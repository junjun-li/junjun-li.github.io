<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3 知乎项目 | 前端积累</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="种一棵树最好的时间是十年前，其次就是现在。">
    
    <link rel="preload" href="/assets/css/0.styles.d39084ab.css" as="style"><link rel="preload" href="/assets/js/app.a6d4ddf3.js" as="script"><link rel="preload" href="/assets/js/2.607a1425.js" as="script"><link rel="preload" href="/assets/js/234.3781fe36.js" as="script"><link rel="prefetch" href="/assets/js/10.2fcae860.js"><link rel="prefetch" href="/assets/js/100.8b75c677.js"><link rel="prefetch" href="/assets/js/101.cded5708.js"><link rel="prefetch" href="/assets/js/102.6a34e126.js"><link rel="prefetch" href="/assets/js/103.881c12cd.js"><link rel="prefetch" href="/assets/js/104.e3fcd533.js"><link rel="prefetch" href="/assets/js/105.394cc43b.js"><link rel="prefetch" href="/assets/js/106.e62ec412.js"><link rel="prefetch" href="/assets/js/107.42dc855a.js"><link rel="prefetch" href="/assets/js/108.8b76574b.js"><link rel="prefetch" href="/assets/js/109.c8c72b49.js"><link rel="prefetch" href="/assets/js/11.981c0761.js"><link rel="prefetch" href="/assets/js/110.d90cfa8c.js"><link rel="prefetch" href="/assets/js/111.f7e4638c.js"><link rel="prefetch" href="/assets/js/112.b6850f1a.js"><link rel="prefetch" href="/assets/js/113.96c46e46.js"><link rel="prefetch" href="/assets/js/114.f61b9f18.js"><link rel="prefetch" href="/assets/js/115.89362b7d.js"><link rel="prefetch" href="/assets/js/116.67fafbbe.js"><link rel="prefetch" href="/assets/js/117.46c6c71f.js"><link rel="prefetch" href="/assets/js/118.16830ff3.js"><link rel="prefetch" href="/assets/js/119.b1e37bdd.js"><link rel="prefetch" href="/assets/js/12.aa78fb10.js"><link rel="prefetch" href="/assets/js/120.089cfef7.js"><link rel="prefetch" href="/assets/js/121.563d628f.js"><link rel="prefetch" href="/assets/js/122.92bd6cba.js"><link rel="prefetch" href="/assets/js/123.eeeb1b9a.js"><link rel="prefetch" href="/assets/js/124.ee2f419a.js"><link rel="prefetch" href="/assets/js/125.0bdd43cf.js"><link rel="prefetch" href="/assets/js/126.ac83cfe8.js"><link rel="prefetch" href="/assets/js/127.146f75fe.js"><link rel="prefetch" href="/assets/js/128.b76fc835.js"><link rel="prefetch" href="/assets/js/129.6703f3b4.js"><link rel="prefetch" href="/assets/js/13.3031259d.js"><link rel="prefetch" href="/assets/js/130.dba29530.js"><link rel="prefetch" href="/assets/js/131.79c4345b.js"><link rel="prefetch" href="/assets/js/132.5201745d.js"><link rel="prefetch" href="/assets/js/133.902a1e6d.js"><link rel="prefetch" href="/assets/js/134.2e02f325.js"><link rel="prefetch" href="/assets/js/135.187cb98c.js"><link rel="prefetch" href="/assets/js/136.ea300642.js"><link rel="prefetch" href="/assets/js/137.d6c07a67.js"><link rel="prefetch" href="/assets/js/138.bb3cedcf.js"><link rel="prefetch" href="/assets/js/139.be319384.js"><link rel="prefetch" href="/assets/js/14.8f435c2f.js"><link rel="prefetch" href="/assets/js/140.25d2940e.js"><link rel="prefetch" href="/assets/js/141.c93f53f4.js"><link rel="prefetch" href="/assets/js/142.48794fba.js"><link rel="prefetch" href="/assets/js/143.7d4f33bf.js"><link rel="prefetch" href="/assets/js/144.9f2705e5.js"><link rel="prefetch" href="/assets/js/145.070cfcb5.js"><link rel="prefetch" href="/assets/js/146.c1c5afa3.js"><link rel="prefetch" href="/assets/js/147.0a0f3330.js"><link rel="prefetch" href="/assets/js/148.3b4209b4.js"><link rel="prefetch" href="/assets/js/149.80498383.js"><link rel="prefetch" href="/assets/js/15.87b394e1.js"><link rel="prefetch" href="/assets/js/150.d02b8a6f.js"><link rel="prefetch" href="/assets/js/151.43c69357.js"><link rel="prefetch" href="/assets/js/152.b843c295.js"><link rel="prefetch" href="/assets/js/153.437a0f7c.js"><link rel="prefetch" href="/assets/js/154.c4d50180.js"><link rel="prefetch" href="/assets/js/155.5cb1c350.js"><link rel="prefetch" href="/assets/js/156.f1f0f72a.js"><link rel="prefetch" href="/assets/js/157.87052ede.js"><link rel="prefetch" href="/assets/js/158.86e22c72.js"><link rel="prefetch" href="/assets/js/159.b691ed4c.js"><link rel="prefetch" href="/assets/js/16.f505a918.js"><link rel="prefetch" href="/assets/js/160.6a36fec3.js"><link rel="prefetch" href="/assets/js/161.b565cfe9.js"><link rel="prefetch" href="/assets/js/162.372001f5.js"><link rel="prefetch" href="/assets/js/163.17dad7b1.js"><link rel="prefetch" href="/assets/js/164.27fd2494.js"><link rel="prefetch" href="/assets/js/165.ba1daa7f.js"><link rel="prefetch" href="/assets/js/166.827251ff.js"><link rel="prefetch" href="/assets/js/167.afb28e40.js"><link rel="prefetch" href="/assets/js/168.570298b2.js"><link rel="prefetch" href="/assets/js/169.34807513.js"><link rel="prefetch" href="/assets/js/17.80e74c6d.js"><link rel="prefetch" href="/assets/js/170.50099677.js"><link rel="prefetch" href="/assets/js/171.3b859e60.js"><link rel="prefetch" href="/assets/js/172.d179e319.js"><link rel="prefetch" href="/assets/js/173.635e5c0a.js"><link rel="prefetch" href="/assets/js/174.91895de2.js"><link rel="prefetch" href="/assets/js/175.645a8380.js"><link rel="prefetch" href="/assets/js/176.daead87c.js"><link rel="prefetch" href="/assets/js/177.ff668664.js"><link rel="prefetch" href="/assets/js/178.a12d3171.js"><link rel="prefetch" href="/assets/js/179.ea696eec.js"><link rel="prefetch" href="/assets/js/18.001675ee.js"><link rel="prefetch" href="/assets/js/180.a49b1eea.js"><link rel="prefetch" href="/assets/js/181.8c419e20.js"><link rel="prefetch" href="/assets/js/182.bbe370dc.js"><link rel="prefetch" href="/assets/js/183.b9e0be2f.js"><link rel="prefetch" href="/assets/js/184.70045bc2.js"><link rel="prefetch" href="/assets/js/185.2eba8aa3.js"><link rel="prefetch" href="/assets/js/186.1c42f770.js"><link rel="prefetch" href="/assets/js/187.b9915b7c.js"><link rel="prefetch" href="/assets/js/188.ff401db2.js"><link rel="prefetch" href="/assets/js/189.35b1ac6e.js"><link rel="prefetch" href="/assets/js/19.8400eda4.js"><link rel="prefetch" href="/assets/js/190.c2607886.js"><link rel="prefetch" href="/assets/js/191.e3d540ad.js"><link rel="prefetch" href="/assets/js/192.07e8bdf8.js"><link rel="prefetch" href="/assets/js/193.28321fe2.js"><link rel="prefetch" href="/assets/js/194.c3a731c4.js"><link rel="prefetch" href="/assets/js/195.025f4106.js"><link rel="prefetch" href="/assets/js/196.a3907355.js"><link rel="prefetch" href="/assets/js/197.b5bf3416.js"><link rel="prefetch" href="/assets/js/198.cbd2bfd0.js"><link rel="prefetch" href="/assets/js/199.e072af3e.js"><link rel="prefetch" href="/assets/js/20.ccba17f3.js"><link rel="prefetch" href="/assets/js/200.b00120df.js"><link rel="prefetch" href="/assets/js/201.b0bf0264.js"><link rel="prefetch" href="/assets/js/202.f87d7dcc.js"><link rel="prefetch" href="/assets/js/203.5acba10e.js"><link rel="prefetch" href="/assets/js/204.3c2f9a84.js"><link rel="prefetch" href="/assets/js/205.47a6b585.js"><link rel="prefetch" href="/assets/js/206.10c366bd.js"><link rel="prefetch" href="/assets/js/207.7841364d.js"><link rel="prefetch" href="/assets/js/208.3f64eb2c.js"><link rel="prefetch" href="/assets/js/209.9560b60e.js"><link rel="prefetch" href="/assets/js/21.a678c9eb.js"><link rel="prefetch" href="/assets/js/210.0ccf1c16.js"><link rel="prefetch" href="/assets/js/211.e4f867fa.js"><link rel="prefetch" href="/assets/js/212.9c2dc8fc.js"><link rel="prefetch" href="/assets/js/213.daac4866.js"><link rel="prefetch" href="/assets/js/214.907d2d21.js"><link rel="prefetch" href="/assets/js/215.4f999780.js"><link rel="prefetch" href="/assets/js/216.21216fed.js"><link rel="prefetch" href="/assets/js/217.c927af23.js"><link rel="prefetch" href="/assets/js/218.4646757d.js"><link rel="prefetch" href="/assets/js/219.4f3f6e0d.js"><link rel="prefetch" href="/assets/js/22.ce8cf4b6.js"><link rel="prefetch" href="/assets/js/220.9e3ab6bb.js"><link rel="prefetch" href="/assets/js/221.75f2a94b.js"><link rel="prefetch" href="/assets/js/222.ee2e262a.js"><link rel="prefetch" href="/assets/js/223.058ee305.js"><link rel="prefetch" href="/assets/js/224.731f70f0.js"><link rel="prefetch" href="/assets/js/225.71090a74.js"><link rel="prefetch" href="/assets/js/226.2045fb9b.js"><link rel="prefetch" href="/assets/js/227.150620b6.js"><link rel="prefetch" href="/assets/js/228.0fb4f7b5.js"><link rel="prefetch" href="/assets/js/229.2af86ede.js"><link rel="prefetch" href="/assets/js/23.a315fe74.js"><link rel="prefetch" href="/assets/js/230.cb30ff1e.js"><link rel="prefetch" href="/assets/js/231.d2d2e3c3.js"><link rel="prefetch" href="/assets/js/232.ea81aa03.js"><link rel="prefetch" href="/assets/js/233.bbf33270.js"><link rel="prefetch" href="/assets/js/235.6b532800.js"><link rel="prefetch" href="/assets/js/236.389bb236.js"><link rel="prefetch" href="/assets/js/237.8462265f.js"><link rel="prefetch" href="/assets/js/238.5a471c42.js"><link rel="prefetch" href="/assets/js/239.7b810dfa.js"><link rel="prefetch" href="/assets/js/24.78503da7.js"><link rel="prefetch" href="/assets/js/25.9a7dc29d.js"><link rel="prefetch" href="/assets/js/26.98b4a740.js"><link rel="prefetch" href="/assets/js/27.f5e41f55.js"><link rel="prefetch" href="/assets/js/28.01350e45.js"><link rel="prefetch" href="/assets/js/29.35903414.js"><link rel="prefetch" href="/assets/js/3.615fb602.js"><link rel="prefetch" href="/assets/js/30.9c5c75b5.js"><link rel="prefetch" href="/assets/js/31.dff7aa64.js"><link rel="prefetch" href="/assets/js/32.0a2fa58f.js"><link rel="prefetch" href="/assets/js/33.8e2e887e.js"><link rel="prefetch" href="/assets/js/34.0a366363.js"><link rel="prefetch" href="/assets/js/35.8693ba10.js"><link rel="prefetch" href="/assets/js/36.732b8183.js"><link rel="prefetch" href="/assets/js/37.c478b6c7.js"><link rel="prefetch" href="/assets/js/38.f7c43609.js"><link rel="prefetch" href="/assets/js/39.f3ad987f.js"><link rel="prefetch" href="/assets/js/4.99e6be72.js"><link rel="prefetch" href="/assets/js/40.7b6e3fc3.js"><link rel="prefetch" href="/assets/js/41.4a9706a6.js"><link rel="prefetch" href="/assets/js/42.104a4674.js"><link rel="prefetch" href="/assets/js/43.b2fc57d5.js"><link rel="prefetch" href="/assets/js/44.2ebeba22.js"><link rel="prefetch" href="/assets/js/45.dc217d73.js"><link rel="prefetch" href="/assets/js/46.d40245f4.js"><link rel="prefetch" href="/assets/js/47.7d5358d9.js"><link rel="prefetch" href="/assets/js/48.8102a836.js"><link rel="prefetch" href="/assets/js/49.d7ba85c0.js"><link rel="prefetch" href="/assets/js/5.ad5610d4.js"><link rel="prefetch" href="/assets/js/50.d4d9c335.js"><link rel="prefetch" href="/assets/js/51.80aad32f.js"><link rel="prefetch" href="/assets/js/52.5363c8f8.js"><link rel="prefetch" href="/assets/js/53.1790a457.js"><link rel="prefetch" href="/assets/js/54.e856bca3.js"><link rel="prefetch" href="/assets/js/55.99b278f5.js"><link rel="prefetch" href="/assets/js/56.232c4781.js"><link rel="prefetch" href="/assets/js/57.9b28805b.js"><link rel="prefetch" href="/assets/js/58.54fb6531.js"><link rel="prefetch" href="/assets/js/59.7a079f25.js"><link rel="prefetch" href="/assets/js/6.7ad84c00.js"><link rel="prefetch" href="/assets/js/60.e5c3d832.js"><link rel="prefetch" href="/assets/js/61.267e1766.js"><link rel="prefetch" href="/assets/js/62.a07f5c23.js"><link rel="prefetch" href="/assets/js/63.af3de126.js"><link rel="prefetch" href="/assets/js/64.b3de09ab.js"><link rel="prefetch" href="/assets/js/65.54faa253.js"><link rel="prefetch" href="/assets/js/66.43ff1072.js"><link rel="prefetch" href="/assets/js/67.81beed96.js"><link rel="prefetch" href="/assets/js/68.fb000978.js"><link rel="prefetch" href="/assets/js/69.a8de28c7.js"><link rel="prefetch" href="/assets/js/7.3dc27e18.js"><link rel="prefetch" href="/assets/js/70.5a1ef2c5.js"><link rel="prefetch" href="/assets/js/71.1f93cc06.js"><link rel="prefetch" href="/assets/js/72.9972ba6d.js"><link rel="prefetch" href="/assets/js/73.778f5c66.js"><link rel="prefetch" href="/assets/js/74.91ad7822.js"><link rel="prefetch" href="/assets/js/75.4e585840.js"><link rel="prefetch" href="/assets/js/76.6f70f311.js"><link rel="prefetch" href="/assets/js/77.7fea839b.js"><link rel="prefetch" href="/assets/js/78.44973a49.js"><link rel="prefetch" href="/assets/js/79.663bdb7d.js"><link rel="prefetch" href="/assets/js/8.64ad7bfb.js"><link rel="prefetch" href="/assets/js/80.9422fb6f.js"><link rel="prefetch" href="/assets/js/81.934bcaef.js"><link rel="prefetch" href="/assets/js/82.c1fab20a.js"><link rel="prefetch" href="/assets/js/83.edc34ab4.js"><link rel="prefetch" href="/assets/js/84.1ce50620.js"><link rel="prefetch" href="/assets/js/85.56d2c701.js"><link rel="prefetch" href="/assets/js/86.353b45fd.js"><link rel="prefetch" href="/assets/js/87.09952ac4.js"><link rel="prefetch" href="/assets/js/88.fc4ca893.js"><link rel="prefetch" href="/assets/js/89.ffcd14b8.js"><link rel="prefetch" href="/assets/js/9.325ee0f4.js"><link rel="prefetch" href="/assets/js/90.ac484d75.js"><link rel="prefetch" href="/assets/js/91.2828556b.js"><link rel="prefetch" href="/assets/js/92.1bb637bb.js"><link rel="prefetch" href="/assets/js/93.573c9bb6.js"><link rel="prefetch" href="/assets/js/94.d424b809.js"><link rel="prefetch" href="/assets/js/95.086c2a46.js"><link rel="prefetch" href="/assets/js/96.74e342ad.js"><link rel="prefetch" href="/assets/js/97.7b1f6203.js"><link rel="prefetch" href="/assets/js/98.923ac750.js"><link rel="prefetch" href="/assets/js/99.4ccedc9b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d39084ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端积累</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/frontend/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/js设计模式/" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/vue2/" class="nav-link">
  vue2
</a></div><div class="nav-item"><a href="/vue3/" class="nav-link router-link-active">
  vue3
</a></div><div class="nav-item"><a href="/web/apply、call、bind的区别.html" class="nav-link">
  web
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  数据结构和算法
</a></div><div class="nav-item"><a href="/architect/" class="nav-link">
  web架构师
</a></div><div class="nav-item"><a href="/ts/chapter1/" class="nav-link">
  ts封装axios
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/webpack/" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/" class="nav-link">
  面试题
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/frontend/" class="nav-link">
  大前端
</a></div><div class="nav-item"><a href="/js设计模式/" class="nav-link">
  设计模式
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/vue2/" class="nav-link">
  vue2
</a></div><div class="nav-item"><a href="/vue3/" class="nav-link router-link-active">
  vue3
</a></div><div class="nav-item"><a href="/web/apply、call、bind的区别.html" class="nav-link">
  web
</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">
  数据结构和算法
</a></div><div class="nav-item"><a href="/architect/" class="nav-link">
  web架构师
</a></div><div class="nav-item"><a href="/ts/chapter1/" class="nav-link">
  ts封装axios
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  react
</a></div><div class="nav-item"><a href="/webpack/" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="/interview/" class="nav-link">
  interview
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="了解更多" class="dropdown-title"><span class="title">了解更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="了解更多" class="mobile-dropdown-title"><span class="title">了解更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/interview/" class="nav-link">
  面试题
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vue3/" aria-current="page" class="sidebar-link">TS + Vue3</a></li><li><a href="/vue3/vue3-basic.html" class="sidebar-link">初始 vue3: 新特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#ref-语法" class="sidebar-link">Ref 语法</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#reactive-函数" class="sidebar-link">Reactive 函数</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#vue2-响应式的原理-vs-vue3-响应式的原理" class="sidebar-link">vue2 响应式的原理 vs vue3 响应式的原理</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#vue3-生命周期" class="sidebar-link">Vue3 生命周期</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#watch" class="sidebar-link">watch</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#hooks" class="sidebar-link">hooks</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#teleport组件" class="sidebar-link">Teleport组件</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#suspense异步组件" class="sidebar-link">suspense异步组件</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-basic.html#vue3使用vue-router" class="sidebar-link">vue3使用vue-router</a></li></ul></li><li><a href="/vue3/01-propType.html" class="sidebar-link">使用 PropType  给 Props 定义类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3/01-propType.html#如何提取-props-bug" class="sidebar-link">如何提取 props(bug)</a></li></ul></li><li><a href="/vue3/02-.vue文件运行的原理.html" class="sidebar-link">.vue文件运行的原理(h函数的作用)</a></li><li><a href="/vue3/vue3-project.html" aria-current="page" class="active sidebar-link">Vue3 知乎项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#安装-bootstapr" class="sidebar-link">安装 bootstapr</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#css-选择器及禁用子元素所有事件" class="sidebar-link">css 选择器及禁用子元素所有事件</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#scoped-注意事项" class="sidebar-link">scoped 注意事项</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#vue3-中获取-dom-节点" class="sidebar-link">vue3 中获取 dom 节点</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#contains-判断一个元素是否是另一个元素的子节点" class="sidebar-link">contains 判断一个元素是否是另一个元素的子节点</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#数组的-every" class="sidebar-link">数组的 every</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#自定义组件中的-v-model" class="sidebar-link">自定义组件中的 v-model</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#vue-非-prop-的-attribute-的原理及-inheritattrs-attrsd-的用法" class="sidebar-link">vue 非 Prop 的 Attribute 的原理及 inheritAttrs,$attrsd 的用法</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#url-的介绍" class="sidebar-link">URL 的介绍</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#vue3-中-集成-vue-router" class="sidebar-link">vue3 中, 集成 vue-router</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#vue3-中-集成-vuex" class="sidebar-link">vue3 中, 集成 vuex</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#css-object-fit-的介绍" class="sidebar-link">CSS object-fit 的介绍</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#array-reduce" class="sidebar-link">Array.reduce()</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-project.html#ts-泛型的妙用" class="sidebar-link">Ts 泛型的妙用</a></li></ul></li><li><a href="/vue3/vue3-component.html" class="sidebar-link">vue3+tsx 打造组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue3/vue3-component.html#vue3中要使用-proptype-给props定义类型" class="sidebar-link">Vue3中要使用 PropType 给Props定义类型</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-component.html#vue文件运行的原理" class="sidebar-link">.vue文件运行的原理</a></li><li class="sidebar-sub-header"><a href="/vue3/vue3-component.html#watcheffect" class="sidebar-link">watchEffect</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue3-知乎项目"><a href="#vue3-知乎项目" class="header-anchor">#</a> Vue3 知乎项目</h1> <h2 id="安装-bootstapr"><a href="#安装-bootstapr" class="header-anchor">#</a> 安装 bootstapr</h2> <p>使用<code>@next</code>可以安装 alpha 版本的代码</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> bootstrap@next
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="css-选择器及禁用子元素所有事件"><a href="#css-选择器及禁用子元素所有事件" class="header-anchor">#</a> css 选择器及禁用子元素所有事件</h2> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/*  
*选中所有子元素
pointer-events: none; 禁用子元素所有事件
 */</span>
<span class="token selector">.dropdown-option.is-disabled *</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #6c757d<span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="scoped-注意事项"><a href="#scoped-注意事项" class="header-anchor">#</a> scoped 注意事项</h2> <blockquote><p>在如下组件中, 不能加入 scroped
因为<code>.dropdown-option.is-disabled *</code>这个样式, 要用于传入的 slot 内部, 如果加了 scroped 那么这个样式将只在这个组件内部使用, slot 传入的不会使用</p></blockquote> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ <span class="token punctuation">'</span>is-disabled<span class="token punctuation">'</span>: disabled }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dropdown-option<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    disabled<span class="token operator">:</span> <span class="token punctuation">{</span>
      type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.dropdown-option.is-disabled *</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #6c757d<span class="token punctuation">;</span>
  <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="vue3-中获取-dom-节点"><a href="#vue3-中获取-dom-节点" class="header-anchor">#</a> vue3 中获取 dom 节点</h2> <p>在 vue3 中, 获取一个 dom 节点比 vue2 更加简单明了</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用泛型定义dom节点, null类型或者html类型</span>
    <span class="token keyword">const</span> dropdownRef <span class="token operator">=</span> ref<span class="token operator">&lt;</span><span class="token keyword">null</span> <span class="token operator">|</span> HTMLElement<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// dropdownRef.value拿到的直接就是dom节点</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dropdownRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="contains-判断一个元素是否是另一个元素的子节点"><a href="#contains-判断一个元素是否是另一个元素的子节点" class="header-anchor">#</a> contains 判断一个元素是否是另一个元素的子节点</h2> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/contains" target="_blank" rel="noopener noreferrer">MDN 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="数组的-every"><a href="#数组的-every" class="header-anchor">#</a> 数组的 every</h2> <blockquote><p>every 方法用于测试一个数组中所有元素是否满足条件, 返回布尔值</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array1<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">currentValue</span> <span class="token operator">=&gt;</span> currentValue <span class="token operator">&lt;</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// expected output: true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="自定义组件中的-v-model"><a href="#自定义组件中的-v-model" class="header-anchor">#</a> 自定义组件中的 v-model</h2> <p>在 vue2 中组件的 v-model, 有很多缺陷, 例如, 新手很容易搞混 input 和 change 需要用哪一个, 再比如, 只允许绑定一个 v-mode</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ val }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ checked }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base-component</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>base-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/axios/dist/axios.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.jsdelivr.net/npm/vue/dist/vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/element-ui/lib/index.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcss.com/jquery/3.4.1/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">let</span> MyComponent <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;input type=&quot;text&quot;
             :value=&quot;value&quot;
             @input=&quot;updateInput&quot;&gt;
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      value<span class="token operator">:</span> String
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">updateInput</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// 针对这种非同寻常的组件, vue2提供了另一种解决方案</span>
  <span class="token keyword">let</span> BaseComponent <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'base-component'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
      &lt;input type=&quot;checkbox&quot;
             :checked=&quot;checked&quot;
             @change=&quot;updateInput&quot;&gt;
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      checked<span class="token operator">:</span> Boolean
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 添加一个model字段</span>
    model<span class="token operator">:</span> <span class="token punctuation">{</span>
      prop<span class="token operator">:</span> <span class="token string">'checked'</span><span class="token punctuation">,</span> <span class="token comment">// 代表了需要绑定的属性</span>
      event<span class="token operator">:</span> <span class="token string">'change'</span> <span class="token comment">// 代表了需要触发事件的名称</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">updateInput</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>checked<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        checked<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        val<span class="token operator">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
      MyComponent<span class="token punctuation">,</span>
      BaseComponent
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vm<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><p>但是在 vue3 中, 解决了上诉的问题</p> <p><a href="https://v3.vuejs.org/guide/component-basics.html#using-v-model-on-components" target="_blank" rel="noopener noreferrer">vue 文档, 在 components 中使用 v-model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1.直接在子组件定义一个props `modelValue: String`,
2.子组件通过 context.emit('update:modelValue', targetValue) 这个方法向父组件的v-model传参
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>直接上代码</p> <ul><li>APP.vue</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myVal<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'@/components/MyComponent.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    MyComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> myVal <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      myVal
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li>my-component.vue</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>my-component<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateVal<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'MyComponent'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    modelValue<span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> val <span class="token operator">=</span> ref<span class="token operator">&lt;</span><span class="token keyword">undefined</span> <span class="token operator">|</span> string<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateVal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> KeyboardEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> targetValue <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target <span class="token keyword">as</span> HTMLInputElement<span class="token punctuation">)</span><span class="token punctuation">.</span>value
      val<span class="token punctuation">.</span>value <span class="token operator">=</span> targetValue
      context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:modelValue'</span><span class="token punctuation">,</span> targetValue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      val<span class="token punctuation">,</span>
      updateVal
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="使用计算属性的方式来改写他"><a href="#使用计算属性的方式来改写他" class="header-anchor">#</a> 使用计算属性的方式来改写他</h3> <blockquote><p>计算属性可以省去我们对 input 的绑定的事件</p></blockquote> <ul><li>demo.vue</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--@input=&quot;$emit('update:modelValue', $event.target.value)&quot;--&gt;</span>
    <span class="token comment">&lt;!--@input=&quot;updateInput&quot;--&gt;</span>
    <span class="token comment">&lt;!--
    &lt;input
      :model-value=&quot;modelValue&quot;
      type=&quot;text&quot;
      @input=&quot;$emit('update:modelValue', $event.target.value)&quot;
    &gt;
    --&gt;</span>
    <span class="token comment">&lt;!--省去给input注册事件--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'demo'</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'modelValue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// vue3中的写法, 骚操作啊</span>
    <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>modelValue<span class="token punctuation">,</span>
      <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'update:modelValue'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">updateInput</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      updateInput<span class="token punctuation">,</span>
      value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="vue-非-prop-的-attribute-的原理及-inheritattrs-attrsd-的用法"><a href="#vue-非-prop-的-attribute-的原理及-inheritattrs-attrsd-的用法" class="header-anchor">#</a> vue 非 Prop 的 Attribute 的原理及 inheritAttrs,$attrsd 的用法</h2> <p>禁止组件根元素继承 attribute</p> <p><a href="https://cn.vuejs.org/v2/guide/components-props.html#%E7%A6%81%E7%94%A8-Attribute-%E7%BB%A7%E6%89%BF" target="_blank" rel="noopener noreferrer">vue 非 Prop 的 Attribute<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>如果在一个组件中, 使用 props 中没有定义的属性, 这个属性会挂载到根节点上面</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ValidateInput</span>
    <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emailVal<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:rules</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emailRules<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>haha<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ValidateInput</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在子组件 在标签上面增加 v-bind=&quot;$attrs&quot; 则父组件传递过来的, props 没有匹配到的属性就会挂载到上面去</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>validate-input-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> PropType<span class="token punctuation">,</span> defineComponent<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 如果你不希望组件的根元素继承 attribute，你可以在组件的选项中设置 如下属性</span>
  inheritAttrs<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="url-的介绍"><a href="#url-的介绍" class="header-anchor">#</a> URL 的介绍</h2> <p><a href="https://nodejs.org/api/url.html" target="_blank" rel="noopener noreferrer">URL strings and URL objects<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>┌────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                              href                                              │
├──────────┬──┬─────────────────────┬────────────────────────┬───────────────────────────┬───────┤
│ protocol │  │        auth         │          host          │           path            │ hash  │
│          │  │                     ├─────────────────┬──────┼──────────┬────────────────┤       │
│          │  │                     │    hostname     │ port │ pathname │     search     │       │
│          │  │                     │                 │      │          ├─┬──────────────┤       │
│          │  │                     │                 │      │          │ │    query     │       │
&quot;  https:   //    user   :   pass   @ sub.example.com : 8080   /p/a/t/h  ?  query=string   #hash &quot;
│          │  │          │          │    hostname     │ port │          │                │       │
│          │  │          │          ├─────────────────┴──────┤          │                │       │
│ protocol │  │ username │ password │          host          │          │                │       │
├──────────┴──┼──────────┴──────────┼────────────────────────┤          │                │       │
│   origin    │                     │         origin         │ pathname │     search     │ hash  │
├─────────────┴─────────────────────┴────────────────────────┴──────────┴────────────────┴───────┤
│                                              href                                              │
└────────────────────────────────────────────────────────────────────────────────────────────────┘
(All spaces in the &quot;&quot; line should be ignored. They are purely for formatting.)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="vue3-中-集成-vue-router"><a href="#vue3-中-集成-vue-router" class="header-anchor">#</a> vue3 中, 集成 vue-router</h2> <h3 id="注册路由"><a href="#注册路由" class="header-anchor">#</a> 注册路由</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token comment">// 1. 引入vue-router的方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/views/Home.vue'</span>
<span class="token keyword">import</span> Login <span class="token keyword">from</span> <span class="token string">'@/views/Login.vue'</span>
<span class="token keyword">import</span> ColumnList <span class="token keyword">from</span> <span class="token string">'@/components/ColumnList.vue'</span>

<span class="token keyword">const</span> routerHistory <span class="token operator">=</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 创建路由</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  history<span class="token operator">:</span> routerHistory<span class="token punctuation">,</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Home
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Login
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token comment">// 3. 挂载,使用路由</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="组件中拿到路由对象"><a href="#组件中拿到路由对象" class="header-anchor">#</a> 组件中拿到路由对象</h3> <ol><li>从 vue-router 中导入 useRoute</li> <li>调用 useRoute 即可拿到当前路由对象, 获取 params 或者 query 的值</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">&gt;</span></span>{{ route }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>value<span class="token punctuation">.</span>params<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      route
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="使用-router-push-等各种方法"><a href="#使用-router-push-等各种方法" class="header-anchor">#</a> 使用 router.push 等各种方法</h3> <ol><li>从 vue-router 中导入<code>useRouter</code> <blockquote><p>注意: useRoute 和 useRouter 的区别, 前者是获取路由的各种信息, 后者是可以调用路由的各种方法</p></blockquote></li> <li>调用 useRouter 函数</li> <li>直接和 vue2 使用即可</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">goToLogin</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'login'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      goToLogin
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="vue3-中-集成-vuex"><a href="#vue3-中-集成-vuex" class="header-anchor">#</a> vue3 中, 集成 vuex</h2> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Test'</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>test<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      list
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="css-object-fit-的介绍"><a href="#css-object-fit-的介绍" class="header-anchor">#</a> CSS object-fit 的介绍</h2> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/object-fit" target="_blank" rel="noopener noreferrer">MDN-<code>object-fit</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>object-fit CSS 属性指定可替换元素的内容应该如何适应到其使用的高度和宽度确定的框。</p></blockquote> <h2 id="array-reduce"><a href="#array-reduce" class="header-anchor">#</a> Array.reduce()</h2> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener noreferrer">MDN-<code>reduce</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>reduce 方法对数组中的每个元素执行一个由您提供的 reducer 函数(升序执行, 将其结果汇总为单个返回值)
说人话就是, 把数组中的每一项相加, 返回总和</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// reducer 函数接收4个参数:</span>
<span class="token comment">// callback</span>
<span class="token comment">//   Accumulator (acc) (累计器)</span>
<span class="token comment">//   Current Value (cur) (当前值)</span>
<span class="token comment">//   Current Index (idx) (当前索引)</span>
<span class="token comment">//   Source Array (src) (源数组)</span>
<span class="token comment">// initialValue 初始值 如果有这个参数, 先计算初始值, 在计算传入的数组</span>
<span class="token keyword">const</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> array2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> array3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'小明'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> accumulator <span class="token operator">+</span> currentValue

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array1<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// '10a', 先算 1-4的和, 因为最后一个是字符串, 所以字符串拼接, 返回 '10a'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array2<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;101,2,3&quot; 先算 1-4的和, 再把最后的数组拆出来, 拼接字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array3<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &quot;10[object Object]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="ts-泛型的妙用"><a href="#ts-泛型的妙用" class="header-anchor">#</a> Ts 泛型的妙用</h2> <p>把一个数组, 打平, 转换成为对象</p> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">TestProps</span> <span class="token punctuation">{</span>
  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> testData1<span class="token operator">:</span> TestProps<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'小明'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'小红'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token comment">// 需求: 数组转换成为如下对象</span>

<span class="token keyword">const</span> attToObj <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span>_id<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>arr<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>accumulator<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>_id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      accumulator<span class="token punctuation">[</span>current<span class="token punctuation">.</span>_id<span class="token punctuation">]</span> <span class="token operator">=</span> current
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> accumulator
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">attToObj</span><span class="token punctuation">(</span>testData1<span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>

<span class="token keyword">const</span> testData2<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> TestProps <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'小明'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'小红'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后编辑时间:</span> <span class="time">12/1/2020, 9:21:50 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue3/02-.vue文件运行的原理.html" class="prev">
        .vue文件运行的原理(h函数的作用)
      </a></span> <span class="next"><a href="/vue3/vue3-component.html">
        vue3+tsx 打造组件
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a6d4ddf3.js" defer></script><script src="/assets/js/2.607a1425.js" defer></script><script src="/assets/js/234.3781fe36.js" defer></script>
  </body>
</html>
